
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>List comprehensions &#8212; MTH337_F20  documentation</title>
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MTH337_F20  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">List comprehensions</a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Contents</h2>
    <div class="sidebar-localtoc">
      <ul>
<li><a class="reference internal" href="#">List comprehensions</a><ul>
<li><a class="reference internal" href="#basic-comprehensions">Basic comprehensions</a></li>
<li><a class="reference internal" href="#generalized-comprehensions">Generalized comprehensions</a></li>
<li><a class="reference internal" href="#nested-comprehensions">Nested comprehensions</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/PT/PT-list_comprehensions/PT-list_comprehensions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../index.html">Docs</a></li>
              
              <li>List comprehensions</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="list-comprehensions">
<h1>List comprehensions<a class="headerlink" href="#list-comprehensions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basic-comprehensions">
<h2>Basic comprehensions<a class="headerlink" href="#basic-comprehensions" title="Permalink to this headline">¶</a></h2>
<p>List comprehensions are a tool that in many cases makes it easier to
create a list of elements. For example, if we want to create a list of
squares of the first few positive integers, we can do it using the
<code class="docutils literal notranslate"><span class="pre">for</span></code> loop as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[]</span>              <span class="c1"># start with an empty list</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">squares</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># append n**2</span>

<span class="nb">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</p>
</div>
<p>The same task can be accomplished with less code using list
comprehensions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>   <span class="c1"># list comprehension generating a list of squares</span>

<span class="nb">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</p>
</div>
<p>The syntax of list comprehensions is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">item</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable_object</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>Such code will take one by one items from the iterable object, compute
the value of the expression for each item, and create a list consisting
of all these values. The iterable object can be a list, tuple, string etc.
In the next example we use list comprehensions to create a list from
characters of a string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span>  <span class="o">=</span> <span class="p">[</span><span class="n">letter</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s1">&#39;Buffalo&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘B!’, ‘u!’, ‘f!’, ‘f!’, ‘a!’, ‘l!’, ‘o!’]</p>
</div>
</div>
<div class="section" id="generalized-comprehensions">
<h2>Generalized comprehensions<a class="headerlink" href="#generalized-comprehensions" title="Permalink to this headline">¶</a></h2>
<p>In a more general form list comprehensions can include an <code class="docutils literal notranslate"><span class="pre">if</span></code>
statement. For example, in order to create a list of squares of odd
integers we can use the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">odd_squares</span> <span class="o">=</span> <span class="p">[]</span>                  <span class="c1"># start with an empty list</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>                  <span class="c1"># check if n is odd</span>
        <span class="n">odd_squares</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># if n is odd append n**2 to the list</span>

<span class="nb">print</span><span class="p">(</span><span class="n">odd_squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[1, 9, 25, 49, 81]</p>
</div>
<p>Using generalized list comprehensions we can get the same list as
follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">odd_squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">odd_squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[1, 9, 25, 49, 81]</p>
</div>
<p>The syntax of generalized comprehensions is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable_object</span><span class="o">&gt;</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>This code will take items from the iterable object, and check for each
item if the condition holds. If it does it will compute the value of the
expression, and produce a list consisting of all these values.</p>
<p>As one more application of this generalized syntax we create a list
consisting of all vowels in a string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vowels</span> <span class="o">=</span> <span class="p">[</span><span class="n">letter</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s1">&#39;euforia&#39;</span> <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s1">&#39;aeiou&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">vowels</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘e’, ‘u’, ‘o’, ‘i’, ‘a’]</p>
</div>
</div>
<div class="section" id="nested-comprehensions">
<h2>Nested comprehensions<a class="headerlink" href="#nested-comprehensions" title="Permalink to this headline">¶</a></h2>
<p>List comprehensions can be nested to involve more than one variable. For
example, the following code takes values from two different lists of
strings and produces a list of combined strings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">greeting_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;Hi&#39;</span><span class="p">]</span>
<span class="n">name_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Caroline&#39;</span><span class="p">]</span>

<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="n">greeting</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span> <span class="k">for</span> <span class="n">greeting</span> <span class="ow">in</span> <span class="n">greeting_list</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘Hello Alice!’, ‘Hello Bob!’, ‘Hello Caroline!’, ‘Hi Alice!’, ‘Hi Bob!’, ‘Hi Caroline!’]</p>
</div>
<p>The above code produces the same output as a nested <code class="docutils literal notranslate"><span class="pre">for</span></code> loop:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">greeting_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;Hi&#39;</span><span class="p">]</span>
<span class="n">name_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Caroline&#39;</span><span class="p">]</span>

<span class="n">mylist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">greeting</span> <span class="ow">in</span> <span class="n">greeting_list</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">:</span>
        <span class="n">mylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">greeting</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘Hello Alice!’, ‘Hello Bob!’, ‘Hello Caroline!’, ‘Hi Alice!’, ‘Hi Bob!’, ‘Hi Caroline!’]</p>
</div>
<p>Nested comprehensions can be used with the <code class="docutils literal notranslate"><span class="pre">if</span></code> statement. In the next
example we create a list of tuples <span class="math notranslate nohighlight">\((a, b)\)</span> such that <span class="math notranslate nohighlight">\(b\)</span>
divides <span class="math notranslate nohighlight">\(a\)</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">divisors</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">%</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">divisors</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[(1, 1), (2, 1), (2, 2), (3, 1), (3, 3), (4, 1), (4, 2), (4, 4), (5, 1), (5, 5)]</p>
</div>
<p>Equivalent code using nested <code class="docutils literal notranslate"><span class="pre">for</span></code> loops looks as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">divisors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">a</span><span class="o">%</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">divisors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">divisors</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[(1, 1), (2, 1), (2, 2), (3, 1), (3, 3), (4, 1), (4, 2), (4, 4), (5, 1), (5, 5)]</p>
</div>
</div>
</div>


          </div>
            
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MTH337_F20  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">List comprehensions</a></li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2020, Simone Cassani. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>